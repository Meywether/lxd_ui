webpackJsonp([3],{"4WTo":function(e,t,a){var r=a("NWt+");e.exports=function(e,t){var a=[];return r(e,!1,a.push,a,t),a}},"5zde":function(e,t,a){a("zQR9"),a("qyJz"),e.exports=a("FeBl").Array.from},"7Doy":function(e,t,a){var r=a("EqjI"),i=a("7UMu"),s=a("dSzd")("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(e,t,a){"use strict";var r=a("kM2E");e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,a){"use strict";var r=a("evD5").f,i=a("Yobk"),s=a("xH/j"),n=a("+ZMJ"),o=a("2KxR"),l=a("NWt+"),c=a("vIB/"),u=a("EGZi"),d=a("bRrM"),p=a("+E39"),v=a("06OY").fastKey,m=a("LIJb"),f=p?"_s":"size",h=function(e,t){var a,r=v(t);if("F"!==r)return e._i[r];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var u=e(function(e,r){o(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=r&&l(r,a,e[c],e)});return s(u.prototype,{clear:function(){for(var e=m(this,t),a=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete a[r.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=m(this,t),r=h(a,e);if(r){var i=r.n,s=r.p;delete a._i[r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),a._f==r&&(a._f=i),a._l==r&&(a._l=s),a[f]--}return!!r},forEach:function(e){m(this,t);for(var a,r=n(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(r(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!h(m(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,a){var r,i,s=h(e,t);return s?s.v=a:(e._l=s={i:i=v(t,!0),k:t,v:a,p:r=e._l,n:void 0,r:!1},e._f||(e._f=s),r&&(r.n=s),e[f]++,"F"!==i&&(e._i[i]=s)),e},getEntry:h,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=m(e,t),this._k=a,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},a?"entries":"values",!a,!0),d(t)}}},ALrJ:function(e,t,a){var r=a("+ZMJ"),i=a("MU5D"),s=a("sB3e"),n=a("QRG4"),o=a("oeOm");e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,v=t||o;return function(t,o,m){for(var f,h,g=s(t),b=i(g),x=r(o,m,3),k=n(b.length),_=0,y=a?v(t,k):l?v(t,0):void 0;k>_;_++)if((p||_ in b)&&(h=x(f=b[_],_,g),e))if(a)y[_]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return _;case 2:y.push(f)}else if(u)return!1;return d?-1:c||u?u:y}}},BDhv:function(e,t,a){var r=a("kM2E");r(r.P+r.R,"Set",{toJSON:a("m9gC")("Set")})},HpRW:function(e,t,a){"use strict";var r=a("kM2E"),i=a("lOnJ"),s=a("+ZMJ"),n=a("NWt+");e.exports=function(e){r(r.S,e,{from:function(e){var t,a,r,o,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),void 0==e?new this:(a=[],t?(r=0,o=s(l,arguments[2],2),n(e,!1,function(e){a.push(o(e,r++))})):n(e,!1,a.push,a),new this(a))}})}},LIJb:function(e,t,a){var r=a("EqjI");e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},RpbZ:function(e,t,a){"use strict";var r=a("woOf"),i=a.n(r),s=a("Xxa5"),n=a.n(s),o=a("exGp"),l=a.n(o),c=a("lHA8"),u=a.n(c),d=a("c/Tr"),p=a.n(d),v=a("Dd8w"),m=a.n(v),f=a("NYxO"),h=(a("4swq"),a("mtWM")),g=a.n(h),b=a("fEDY");t.a={middleware:["authenticated"],components:{remotes:b.a},computed:m()({},Object(f.mapGetters)({isAuthenticated:"auth/isAuthenticated",loggedUser:"auth/loggedUser",loggedToken:"auth/loggedToken"}),{image_list:function(){var e=this;return this.items.filter(function(t){return e.activeDistro.toLowerCase()===t.properties.os.toLowerCase()&&t})},distros_list:function(){return p()(new u.a(this.distros))},private_remotes:function(){var e=this;return this.remotes.filter(function(t){return!e.publicServers.includes(t.name)&&t.name!==e.activeRemote&&t})}}),data:function(){return{value:0,query:!1,show:!0,interval:0,launching:!1,progress_text:"",real_value:"",error:{editing:!1,global:!1,launch:!1},state:"images",forceReloaded:!1,snackbar:!1,snackbarColor:"green",snackbarText:"",snackbarTimeout:5e3,items:[],profiles:[],pools:[],remotes:[],networks:[],distros:[],publicServers:["images","ubuntu","ubuntu-daily"],showDelete:!1,activeRemote:"local",activeDistro:"ubuntu",tableSorting:{sortBy:"properties.version",descending:!0,rowsPerPage:-1},tableLoading:!0,tableNoData:"You have not added any port forwards.",tableHeaders:[{text:"Description",value:"properties.description"},{text:"Version",value:"properties.version"},{text:"Release",value:"properties.release"},{text:"Size",value:"size"},{text:"Uploaded",value:"uploaded_at"},{text:"Actions",value:"actions",sortable:!1,align:"right"}],itemActions:[{title:"Start"},{title:"Stop"},{title:"Delete"}],dialog:{create:!1,edit:!1,copy:!1},editingIndex:{create:-1,edit:-1},editingItem:{},newItem:{name:"",image:"",pool:"default",network:"",image_fingerprint:"",profile:["default"],ephemeral:!1,remote:"local"},defaultItem:{name:"",image:"",pool:"default",network:"",image_fingerprint:"",profile:["default"],ephemeral:!1,remote:"local"},copyIndex:-1,copy:{remote:"local"},valid:!0,nameRule:[function(e){return!!e||"Name is required."},function(e){return e&&/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/.test(e)||"Only letters, digits or hyphens. No leading hyphen or digit. Dots are converted to hyphens."},function(e){return e&&isNaN(e.charAt(0))||"Only letters, digits or hyphens. No leading hyphen or digit. Dots are converted to hyphens."}],remoteRule:[function(e){return!!e||"Remote is required."}],descriptionRule:[function(e){return!!e||"Description is required."},function(e){return e&&e.length<60||"Max length of description should not exceed 60 characters."}],profilesRule:[function(e){return e.length>=1||"At least one profile is required."}]}},beforeDestroy:function(){clearInterval(this.interval)},mounted:function(){var e=l()(n.a.mark(function e(){var t,a=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g.a.defaults.headers.common.Authorization="Bearer "+this.loggedToken,this.$storage.isset("lxd")){e.next=15;break}return e.prev=2,e.next=5,g.a.get(this.loggedUser.sub+"/api/lxd");case 5:t=e.sent,this.$storage.set("lxd",t.data.data),this.lxd=t.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.$storage.remove("lxd");case 13:e.next=16;break;case 15:this.lxd=this.$storage.get("lxd");case 16:this.$nextTick(function(){a.initialize()});case 17:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),watch:{"dialog.copy":function(e){e||this.close("copy")},"dialog.create":function(e){e||this.close("create")},"dialog.edit":function(e){e||this.close("edit")}},methods:{initialize:function(){var e=l()(n.a.mark(function e(){var t,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.forceReloaded=a,e.prev=1,this.loggedUser||this.$router.replace("/servers"),e.next=5,g.a.get(this.loggedUser.sub+"/api/lxd/images/remotes?type=active");case 5:t=e.sent,this.remotes=t.data.data,this.loadRemoteImages(this.activeRemote),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.tableNoData="No data.",this.error.global="Could not fetch data from server.";case 14:this.tableLoading=!1;case 15:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),getProfiles:function(){var e=l()(n.a.mark(function e(){var t,a=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loggedUser||this.$router.replace("/servers"),e.next=4,g.a.get(this.loggedUser.sub+"/api/lxd/profiles");case 4:t=e.sent,this.profiles=[],t.data.data.forEach(function(e){a.profiles.push(e.name)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.profiles=[];case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),getStoragePools:function(){var e=l()(n.a.mark(function e(){var t=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(this.loggedUser.sub+"/api/lxd/storage",{params:{types:["name"]}});case 3:e.sent.data.data.forEach(function(e){t.pools.push(e.name)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.pools=[];case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getNetworks:function(){var e=l()(n.a.mark(function e(){var t=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(this.loggedUser.sub+"/api/lxd/networks");case 3:e.sent.data.data.forEach(function(e){e.managed&&t.networks.push(e.name)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.networks=[];case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),loadRemoteImages:function(){var e=l()(n.a.mark(function e(){var t,a=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.items=[],this.distros=[],this.tableLoading=!0,this.error.global=!1,e.prev=4,this.loggedUser||this.$router.replace("/servers"),e.next=8,g.a.get(this.loggedUser.sub+"/api/lxd/images?remote="+r+(this.forceReloaded?"&force=1":""));case 8:t=e.sent,this.items=t.data.data,t.data.error?(this.error.global=t.data.error,this.distros=[]):(setTimeout(function(){for(var e in a.distros=[],a.items)a.distros.push(a.items[e].properties.os.toLowerCase())},0),setTimeout(function(){a.activeDistro=a.distros[0]?a.distros[0]:""},10),this.show_delete=this.items.length>0&&!this.publicServers.includes(this.activeRemote)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),this.tableNoData="No data.",this.error.global="Could not fetch data from server.";case 17:this.tableLoading=!1;case 18:case"end":return e.stop()}},e,this,[[4,13]])}));return function(){return e.apply(this,arguments)}}(),createContainer:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.$refs.form.validate()&&this.valid&&(this.loggedUser||this.$router.replace("/servers"),this.snackbar=!0,this.snackbarColor="green",this.snackbarText="Creating container.",this.query=!0,g.a.post(this.loggedUser.sub+"/api/lxd/containers",this.newItem).then(function(e){if(200===e.data.code&&103===e.data.data.status_code){t.show=!0,t.value=0,t.query=!1,t.launching=!0;var a=setInterval(l()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.a.get(t.loggedUser.sub+"/api/lxd/operations/"+e.data.data.id).then(function(e){if(103==e.data.data.status_code){console.log("103",e.data.data);var r=null;e.data.data.metadata?(r=e.data.data.metadata.download_progress,/^metadata:/i.test(r)?(r=r.replace("metadata:","").trim(),r="0%"):/^rootfs:/i.test(r)&&(r=r.replace("rootfs:","").trim()),t.value=r.substr(0,r.indexOf("%")),t.real_value=r):"local"===t.newItem.remote?(t.value=100,t.real_value="",t.query=!0):(t.value=0,t.real_value=""),t.value>=0&&t.value<1?t.progress_text="Initializing image download.":t.value<100?t.progress_text="Downloading image.":t.progress_text="Unpacking filesystem into container."}else 200==e.data.data.status_code?(console.log("200",e.data.data),t.value=100,clearInterval(a),t.progress_text="Container created.",t.snackbar=!0,t.snackbarColor="green",t.snackbarText="Container successfully created!",t.progress_text="Complete",t.dialog.create=!1,t.askStart(),setTimeout(function(){t.launching=!1,t.progress_text=""},300)):(console.log("not 103/200",e.data.data),t.value=100,clearInterval(a),t.progress_text="Container created.",t.snackbar=!0,t.snackbarColor="green",t.snackbarText="Container successfully created!",t.progress_text="Complete",t.dialog.create=!1,t.askStart(),setTimeout(function(){t.launching=!1,t.progress_text=""},300))}).catch(function(e){t.show=!1,t.launching=!1,t.dialog.create=!1,t.error.global="Failed to create container.",t.progress_text="Error"});case 2:case"end":return r.stop()}},r,t)})),1e3)}else t.launching=!1,t.error.launch=e.data.data.error}).catch(function(e){t.error.global="Failed to create container."})):(this.getStoragePools(),this.getNetworks(),this.getProfiles(),this.dialog.create=!0,this.newItem={name:"",image:e.properties.description,image_fingerprint:e.fingerprint,profile:["default"],pool:"default",network:"",ephemeral:!1,remote:this.activeRemote})},askStart:function(){var e=this;this.$prompt.show({persistent:!0,width:400,toolbar:{color:"blue darken-3",closable:!1},title:"Start Container?",text:"Would you like to start the newly created container?",buttons:[{title:"Yes",color:"success",handler:function(){var t=l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:g.a.put(e.loggedUser.sub+"/api/lxd/containers/"+e.newItem.name+"/state",{action:"start",timeout:30,force:!0,stateful:!1}),e.snackbar=!0,e.snackbarColor="green",e.snackbarText="Container started.";case 4:case"end":return t.stop()}},t,e)}));return function(){return t.apply(this,arguments)}}()},{title:"No",color:"error"}]})},safe_name:function(){this.newItem.name=this.newItem.name.replace(".","-")},copyItem:function(e,t){var a=this;t?this.$refs.form.validate()&&this.valid&&(g.a.post(this.loggedUser.sub+"/api/lxd/images/"+this.copy.fingerprint+"/copy?remote="+this.activeRemote,this.copy).then(function(e){200===e.data.code?(a.snackbar=!0,a.snackbarText="Image copied from "+a.activeRemote+" to "+a.copy.remote+"."):(a.snackbar=!0,a.snackbarColor="red",a.snackbarText=e.data.error)}).catch(function(e){a.error.global="Could not copy image."}),this.snackbar=!0,this.snackbarText="Image queued for copy.",this.dialog.copy=!1):(this.copyIndex=this.items.indexOf(e),this.copy=i()({},this.copy,e),this.dialog.copy=!0)},editItem:function(e){this.editingIndex.edit=this.items.indexOf(e),this.editingItem=i()({},e),this.dialog.edit=!0},deleteItem:function(e){var t=this;this.$prompt.show({persistent:!0,width:400,toolbar:{color:"red darken-3",closable:!1},title:"Delete image?",text:"Are you sure you want to delete the <b>"+e.properties.description+"</b> image?",buttons:[{title:"Yes",color:"success",handler:function(){var a=l()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.items.indexOf(e),t.items.splice(r,1),a.prev=2,t.loggedUser||t.$router.replace("/servers"),a.next=6,g.a.delete(t.loggedUser.sub+"/api/lxd/images/"+e.fingerprint+"?remote="+t.activeRemote);case 6:a.sent,t.snackbar=!0,t.snackbarText="Image successfully deleted.",a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),t.error.global="Could not delete image from server.";case 14:case"end":return a.stop()}},a,t,[[2,11]])}));return function(){return a.apply(this,arguments)}}()},{title:"No",color:"error"}]})},save:function(){var e=l()(n.a.mark(function e(){var t=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=16;break}return this.editingIndex.edit>-1?i()(this.items[this.editingIndex.edit],this.editingItem):this.items.push(i()({},this.editingItem)),e.prev=2,this.loggedUser||this.$router.replace("/servers"),e.next=6,g.a.put(this.loggedUser.sub+"/api/lxd/images/"+this.editingItem.fingerprint+"?remote="+this.activeRemote,this.editingItem);case 6:e.sent,this.snackbar=!0,this.snackbarText="Image successfully updated.",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.error.global="Could not update image.";case 14:this.close("edit"),setTimeout(function(){t.initialize()},300);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}(),close:function(e){var t=this;this.dialog[e]=!1,setTimeout(function(){t.launching=!1,t.progress_text="",t.editingItem=i()({},t.defaultItem),t.editingIndex={create:-1,edit:-1}},300)},setSnackbar:function(e){this.snackbar=!0,this.snackbarTimeout=2500,this.snackbarText=e},setError:function(e){this.error.global=e},openDialog:function(e){this.$refs[e].openDialog()},formatBytes:function(e,t){if(0==e)return"0 Bytes";var a=t||2,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},ucfirst:function(e){return String(e).charAt(0).toUpperCase()+String(e).slice(1)}}}},arT6:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"",""])},"c/Tr":function(e,t,a){e.exports={default:a("5zde"),__esModule:!0}},fBQ2:function(e,t,a){"use strict";var r=a("evD5"),i=a("X8DO");e.exports=function(e,t,a){t in e?r.f(e,t,i(0,a)):e[t]=a}},fEDY:function(e,t,a){"use strict";var r=a("gmfL"),i=a("jEvU"),s=!1;var n=function(e){s||a("qJAe")},o=a("VU/8")(r.a,i.a,!1,n,null,null);o.options.__file="components/lxd/remotes.vue",t.a=o.exports},gmfL:function(e,t,a){"use strict";var r=a("woOf"),i=a.n(r),s=a("fZjL"),n=a.n(s),o=a("Xxa5"),l=a.n(o),c=a("exGp"),u=a.n(c),d=a("Dd8w"),p=a.n(d),v=a("NYxO"),m=a("mtWM"),f=a.n(m);t.a={components:{},props:[],computed:p()({},Object(v.mapGetters)({loggedUser:"auth/loggedUser",loggedToken:"auth/loggedToken"}),{active_remotes:function(){return this.items.filter(function(e){return("1"===e.active||"1"===e.static)&&e})},public_remotes:function(){return this.items.filter(function(e){return"1"===e.public&&""===e.static&&e})},private_remotes:function(){return this.items.filter(function(e){return""===e.public&&""===e.static&&e})}}),data:function(){return{error:{global:"",editing:""},activeTab:"active",valid:!0,dialog:{editing:!1,askSecret:!1},tableLoading:!0,attachType:"",items:[],editingIndex:-1,editingItem:{id:-1,name:"",url:"",protocol:"lxd",auth_type:"tls",secret:"",public:!1},defaultItem:{id:-1,type:"",name:"",url:"",protocol:"lxd",auth_type:"tls",secret:"",public:!1},tableHeadersActive:[{text:"Name",value:"name"},{text:"URL",value:"url"},{text:"Protocol",value:"protocol"},{text:"Auth Type",value:"auth_type"},{text:"Actions",value:"name",sortable:!1,align:"center",width:"200px"}],tableHeadersPublic:[{text:"Name",value:"name"},{text:"URL",value:"url"},{text:"Protocol",value:"protocol"},{text:"Actions",value:"name",sortable:!1,align:"center",width:"200px"}],tableHeadersPrivate:[{text:"Name",value:"name"},{text:"URL",value:"url"},{text:"Protocol",value:"protocol"},{text:"Auth Type",value:"auth_type"},{text:"Actions",value:"name",sortable:!1,align:"center",width:"200px"}],linkedItem:{},nameRule:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=100||"Name must be less than 100 characters"}],urlRule:[function(e){return!!e||"URL is required"}],secretRule:[function(e){return!!e||"Secret is required"}]}},beforeDestroy:function(){},mounted:function(){var e=u()(l.a.mark(function e(){var t,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.a.defaults.headers.common.Authorization="Bearer "+this.loggedToken,this.$storage.isset("lxd")){e.next=15;break}return e.prev=2,e.next=5,f.a.get(this.loggedUser.sub+"/api/lxd");case 5:t=e.sent,this.$storage.set("lxd",t.data.data),this.lxd=t.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.$storage.remove("lxd");case 13:e.next=16;break;case 15:this.lxd=this.$storage.get("lxd");case 16:this.$nextTick(function(){a.initialize()});case 17:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),watch:{"dialog.editing":function(e){e||this.close()},"dialog.askSecret":function(e){e||this.close()}},methods:{initialize:function(){var e=u()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loggedUser||this.$router.replace("/servers"),e.next=4,f.a.get(this.loggedUser.sub+"/api/lxd/images/remotes");case 4:t=e.sent,this.items=t.data.data,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.tableNoData="No data.",this.error.global="Could not fetch data from server.";case 12:this.tableLoading=!1;case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),publicRemotes:function(){var e=u()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loggedUser||this.$router.replace("/servers"),e.next=4,f.a.get(this.loggedUser.sub+"/api/lxd/images/remotes?type=public");case 4:t=e.sent,this.items=t.data.data,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.tableNoData="No data.",this.error.global="Could not fetch data from server.";case 12:this.tableLoading=!1;case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),privateRemotes:function(){var e=u()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loggedUser||this.$router.replace("/servers"),e.next=4,f.a.get(this.loggedUser.sub+"/api/lxd/images/remotes?type=private");case 4:t=e.sent,this.items=t.data.data,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.tableNoData="No data.",this.error.global="Could not fetch data from server.";case 12:this.tableLoading=!1;case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),saveItem:function(){var e=u()(l.a.mark(function e(){var t,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=20;break}if(this.error.editing="",e.prev=2,!(this.editingIndex>-1)){e.next=9;break}return e.next=6,f.a.put(this.loggedUser.sub+"/api/lxd/images/remotes/"+this.editingItem.name,this.editingItem);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,f.a.post(this.loggedUser.sub+"/api/lxd/images/remotes",this.editingItem);case 11:t=e.sent;case 12:t.data.error?"string"==typeof t.data.error?this.error.editing=t.data.error:(this.error.editing='<ul style="padding-left:15px">',n()(t.data.error).forEach(function(e){a.error.editing+="<li>"+t.data.error[e]+".</li>"}),this.error.editing+="</ul>"):(this.$emit("snackbar","Remote successfully saved."),-1===this.editingIndex&&this.close()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),this.error.global="Could not save remote to server.";case 18:this.initialize(),setTimeout(function(){a.$emit("reload")},500);case 20:case"end":return e.stop()}},e,this,[[2,15]])}));return function(){return e.apply(this,arguments)}}(),deleteItem:function(){var e=u()(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$prompt.show({persistent:!0,width:400,toolbar:{color:"red darken-3",closable:!1},title:"Delete remote?",text:"Are you sure you want to delete the <b>"+t.name+'</b> remote?<p class="text-md-center red--text"><br><b>Delete remotes are removed from the LXD server and the database.</b></p>',buttons:[{title:"Yes",color:"success",handler:function(){var e=u()(l.a.mark(function e(){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.items.indexOf(t),a.items.splice(r,1),e.prev=2,e.next=5,f.a.delete(a.loggedUser.sub+"/api/lxd/images/remotes/"+t.name);case 5:e.sent,a.$emit("snackbar","Remote successfully deleted."),a.$emit("reload"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.error.global="Failed to delete remote.";case 13:a.initialize(),setTimeout(function(){a.$emit("reload")},500);case 15:case"end":return e.stop()}},e,a,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{title:"No",color:"error"}]});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),enableItem:function(){var e=u()(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.active=!0,e.next=4,f.a.put(this.loggedUser.sub+"/api/lxd/images/remotes/"+t.name,t);case 4:e.sent,this.$emit("snackbar","Remote successfully enabled."),this.initialize(),setTimeout(function(){a.$emit("reload")},500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.error.global="Failed to enabled remote.";case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),enablePrivateRemote:function(){var e=u()(l.a.mark(function e(t){var a=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=18;break}if(!this.$refs.secretform.validate()){e.next=16;break}return e.prev=2,t.active=!0,e.next=6,f.a.put(this.loggedUser.sub+"/api/lxd/images/remotes/"+t.name,t);case 6:e.sent,this.$emit("snackbar","Remote successfully enabled."),this.initialize(),setTimeout(function(){a.$emit("reload"),a.editingIndex=a.items.indexOf(t),a.editingItem=i()({},t)},500),this.dialog.askSecret=!this.dialog.askSecret,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),this.error.global="Failed to enabled remote.";case 16:e.next=21;break;case 18:this.editingIndex=this.items.indexOf(t),this.editingItem=i()({},t),this.dialog.askSecret=!0;case 21:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),disableItem:function(){var e=u()(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$prompt.show({persistent:!0,width:400,toolbar:{color:"red darken-3",closable:!1},title:"Disable remote?",text:"Are you sure you want to disable the <b>"+t.name+'</b> remote? <p class="text-md-center red--text"><br><b>Disabled remotes are removed from the LXD server.</b></p>',buttons:[{title:"Yes",color:"success",handler:function(){var e=u()(l.a.mark(function e(){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.items.indexOf(t),a.items.splice(r,1),e.prev=2,e.next=5,f.a.put(a.loggedUser.sub+"/api/lxd/images/remotes/"+t.name,{active:!1});case 5:e.sent,a.$emit("snackbar","Remote successfully disabled."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.error.global="Failed to disable remote.";case 12:a.initialize(),setTimeout(function(){a.$emit("reload")},500);case 14:case"end":return e.stop()}},e,a,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{title:"No",color:"error"}]});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),openDialog:function(){this.dialog.editing=!0},close:function(){var e=this;this.dialog={editing:!1,askSecret:!1},this.error.editing="",setTimeout(function(){e.editingItem=i()({},e.defaultItem),e.editingIndex=-1},300)},ucfirst:function(e){return String(e).charAt(0).toUpperCase()+String(e).slice(1)}}}},ioQ5:function(e,t,a){a("HpRW")("Set")},jEvU:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",{staticClass:"elevation-1",attrs:{"show-arrows":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab",{attrs:{ripple:"",href:"#active"}},[e._v("Active")]),a("v-tab",{attrs:{ripple:"",href:"#public"}},[e._v("Public")]),a("v-tab",{attrs:{ripple:"",href:"#private"}},[e._v("Private")]),a("v-tab-item",{attrs:{id:"active"}},[a("v-data-table",{attrs:{headers:e.tableHeadersActive,items:e.active_remotes,"hide-actions":"",loading:e.tableLoading},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",["1"!==t.item.static?a("span",[e._v("\n                  "+e._s(t.item.name)+"\n                ")]):a("span",[e._v("\n                "+e._s(t.item.name?t.item.name:"-")+"\n              ")])]),a("td",[e._v(e._s(t.item.url?t.item.url:"-"))]),a("td",[e._v(e._s(t.item.protocol?"lxd"==t.item.protocol?"LXD":"Simplestreams":"-"))]),a("td",[e._v(e._s(t.item.auth_type?t.item.auth_type.toUpperCase():"-"))]),a("td",[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:"",disabled:"1"===t.item.static},on:{click:function(a){a.stopPropagation(),e.disableItem(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1),a("span",[e._v("Disable Remote")])],1)],1)])]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),a("template",{slot:"no-data"},[e._v("\n          "+e._s(e.tableLoading?"Fetching data, please wait...":"There are currently no active remotes.")+"\n        ")])],2)],1),a("v-tab-item",{attrs:{id:"public"}},[a("v-data-table",{attrs:{headers:e.tableHeadersPublic,items:e.public_remotes,"hide-actions":"",loading:e.tableLoading},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",["1"!==t.item.static?a("span",[e._v("\n                  "+e._s(t.item.name)+"\n                ")]):a("span",[e._v("\n                "+e._s(t.item.name?t.item.name:"-")+"\n              ")])]),a("td",[e._v(e._s(t.item.url?t.item.url:"-"))]),a("td",[e._v(e._s(t.item.protocol?"lxd"==t.item.protocol?"LXD":"Simplestreams":"-"))]),a("td",[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:"",disabled:"1"===t.item.static},on:{click:function(a){a.stopPropagation(),e.deleteItem(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1),a("span",[e._v("Delete Remote")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:"",disabled:e.active_remotes.includes(t.item)},on:{click:function(a){a.stopPropagation(),e.enableItem(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"success"}},[e._v("add")])],1),a("span",[e._v("Enable Remote")])],1)],1)])]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),a("template",{slot:"no-data"},[e._v("\n          "+e._s(e.tableLoading?"Fetching data, please wait...":"There are currently no active remotes.")+"\n        ")])],2)],1),a("v-tab-item",{attrs:{id:"private"}},[a("v-data-table",{attrs:{headers:e.tableHeadersPrivate,items:e.private_remotes,"hide-actions":"",loading:e.tableLoading},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",["1"!==t.item.static?a("span",[e._v("\n                  "+e._s(t.item.name)+"\n                ")]):a("span",[e._v("\n                "+e._s(t.item.name?t.item.name:"-")+"\n              ")])]),a("td",[e._v(e._s(t.item.url?t.item.url:"-"))]),a("td",[e._v(e._s(t.item.protocol?"lxd"==t.item.protocol?"LXD":"Simplestreams":"-"))]),a("td",[e._v(e._s(t.item.auth_type?t.item.auth_type.toUpperCase():"-"))]),a("td",[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:"",disabled:"1"===t.item.static},on:{click:function(a){a.stopPropagation(),e.deleteItem(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1),a("span",[e._v("Delete Remote")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:"",disabled:e.active_remotes.includes(t.item)},on:{click:function(a){a.stopPropagation(),e.enablePrivateRemote(t.item,!0)}},slot:"activator"},[a("v-icon",{attrs:{color:"success"}},[e._v("add")])],1),a("span",[e._v("Enable Remote")])],1)],1)])]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),a("template",{slot:"no-data"},[e._v("\n          "+e._s(e.tableLoading?"Fetching data, please wait...":"There are currently no active remotes.")+"\n        ")])],2)],1)],1),a("v-dialog",{attrs:{"max-width":"600px",scrollable:"","hide-overlay":null!==e.linkedItem},model:{value:e.dialog.editing,callback:function(t){e.$set(e.dialog,"editing",t)},expression:"dialog.editing"}},[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"light-blue darken-3"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.close()}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v(e._s(-1===e.editingIndex?"Add":"Edit")+" Remote")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.saveItem()}}},[e._v("Save")])],1)],1),a("v-card-text",[a("v-alert",{attrs:{type:"error",value:e.error.editing},domProps:{innerHTML:e._s(e.error.editing)}}),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.nameRule,label:"Name:",placeholder:"",required:"",hint:"The name of the remote."},model:{value:e.editingItem.name,callback:function(t){e.$set(e.editingItem,"name",t)},expression:"editingItem.name"}}),a("v-text-field",{attrs:{rules:e.urlRule,label:"URL:",placeholder:"",required:"",hint:"The url of the remote."},model:{value:e.editingItem.url,callback:function(t){e.$set(e.editingItem,"url",t)},expression:"editingItem.url"}}),a("v-select",{attrs:{items:["lxd","simplestreams"],label:"Protocol:",hint:"Select the protocol type for the remote."},model:{value:e.editingItem.protocol,callback:function(t){e.$set(e.editingItem,"protocol",t)},expression:"editingItem.protocol"}}),a("v-select",{attrs:{items:["tls","macaroons"],label:"Auth Type:",hint:"Select the auth type for the remote."},model:{value:e.editingItem.auth_type,callback:function(t){e.$set(e.editingItem,"auth_type",t)},expression:"editingItem.auth_type"}}),a("v-text-field",{attrs:{label:"Secret:",placeholder:"",hint:"The client secret for the remote. (not stored). If left blank treated as public."},model:{value:e.editingItem.secret,callback:function(t){e.$set(e.editingItem,"secret",t)},expression:"editingItem.secret"}})],1)],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1),a("v-dialog",{attrs:{"max-width":"500px",scrollable:"","hide-overlay":null!==e.linkedItem},model:{value:e.dialog.askSecret,callback:function(t){e.$set(e.dialog,"askSecret",t)},expression:"dialog.askSecret"}},[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"light-blue darken-3"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.close()}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Enable Remote")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.enablePrivateRemote(e.editingItem)}}},[e._v("Enable")])],1)],1),a("v-card-text",[a("v-form",{ref:"secretform",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-alert",{attrs:{type:"error",value:e.error.askSecret}},[e._v("\n            "+e._s(e.error.askSecret)+"\n          ")]),a("v-text-field",{attrs:{rules:e.secretRule,label:"Secret:",placeholder:"",required:"",hint:"The client secret for the remote. (not stored)"},model:{value:e.editingItem.secret,callback:function(t){e.$set(e.editingItem,"secret",t)},expression:"editingItem.secret"}})],1)],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},"k+Dm":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"",""])},lHA8:function(e,t,a){e.exports={default:a("pPW7"),__esModule:!0}},m9gC:function(e,t,a){var r=a("RY/4"),i=a("4WTo");e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},oNmr:function(e,t,a){a("9Bbf")("Set")},oeOm:function(e,t,a){var r=a("7Doy");e.exports=function(e,t){return new(r(e))(t)}},pPW7:function(e,t,a){a("M6a0"),a("zQR9"),a("+tPU"),a("ttyz"),a("BDhv"),a("oNmr"),a("ioQ5"),e.exports=a("FeBl").Set},qJAe:function(e,t,a){var r=a("k+Dm");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("e4aedc88",r,!1,{sourceMap:!1})},qo66:function(e,t,a){"use strict";var r=a("7KvD"),i=a("kM2E"),s=a("06OY"),n=a("S82l"),o=a("hJx8"),l=a("xH/j"),c=a("NWt+"),u=a("2KxR"),d=a("EqjI"),p=a("e6n0"),v=a("evD5").f,m=a("ALrJ")(0),f=a("+E39");e.exports=function(e,t,a,h,g,b){var x=r[e],k=x,_=g?"set":"add",y=k&&k.prototype,w={};return f&&"function"==typeof k&&(b||y.forEach&&!n(function(){(new k).entries().next()}))?(k=t(function(t,a){u(t,k,e,"_c"),t._c=new x,void 0!=a&&c(a,g,t[_],t)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in y&&(!b||"clear"!=e)&&o(k.prototype,e,function(a,r){if(u(this,k,e),!t&&b&&!d(a))return"get"==e&&void 0;var i=this._c[e](0===a?0:a,r);return t?this:i})}),b||v(k.prototype,"size",{get:function(){return this._c.size}})):(k=h.getConstructor(t,e,g,_),l(k.prototype,a),s.NEED=!0),p(k,e),w[e]=k,i(i.G+i.W+i.F,w),b||h.setStrong(k,e,g),k}},qyJz:function(e,t,a){"use strict";var r=a("+ZMJ"),i=a("kM2E"),s=a("sB3e"),n=a("msXi"),o=a("Mhyx"),l=a("QRG4"),c=a("fBQ2"),u=a("3fs2");i(i.S+i.F*!a("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,i,d,p=s(e),v="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,h=void 0!==f,g=0,b=u(p);if(h&&(f=r(f,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&o(b))for(a=new v(t=l(p.length));t>g;g++)c(a,g,h?f(p[g],g):p[g]);else for(d=b.call(p),a=new v;!(i=d.next()).done;g++)c(a,g,h?n(d,f,[i.value,g],!0):i.value);return a.length=g,a}})},tDWB:function(e,t,a){var r=a("arT6");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("a6177390",r,!1,{sourceMap:!1})},td64:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-snackbar",{attrs:{top:"",timeout:e.snackbarTimeout,color:e.snackbarColor},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),a("v-content",[a("v-container",{attrs:{fluid:"",tag:"section",id:"grid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"","order-xs5":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",{staticClass:"display mb-2",attrs:{tag:"h1"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[e._v("\n                  LXD - Images "),"remotes"==e.state?a("span",[e._v("- Remotes")]):e._e()]),a("v-flex",{attrs:{xs12:"",sm6:""}},["remotes"==e.state?a("v-btn",{staticStyle:{float:"right"},attrs:{small:""},on:{click:function(t){e.state="images"}}},[e._v("Manage Images")]):e._e(),"images"==e.state?a("v-btn",{staticStyle:{float:"right"},attrs:{small:""},on:{click:function(t){e.state="remotes"}}},[e._v("Manage Remotes")]):e._e(),"remotes"==e.state?a("v-btn",{staticStyle:{float:"right"},attrs:{small:"",color:"success"},on:{click:function(t){e.openDialog("remotes")}}},[e._v("Add Remote")]):e._e()],1)],1)],1),"images"==e.state?a("v-flex",[a("v-alert",{attrs:{type:"error",value:e.error.global}},[e._v("\n                "+e._s(e.error.global)+"\n              ")]),a("div",{staticClass:"elevation-1"},[a("v-tabs",{attrs:{right:""},on:{input:e.loadRemoteImages},model:{value:e.activeRemote,callback:function(t){e.activeRemote=t},expression:"activeRemote"}},[e._l(e.remotes,function(t){return a("v-tab",{key:t.name,attrs:{ripple:"",href:"#"+t.name}},[e._v(e._s(t.name))])}),e._l(e.remotes,function(e){return a("v-tab-item",{key:e.name,attrs:{id:""+e.name}})})],2),e.distros_list.length>0?a("v-tabs",{attrs:{"show-arrows":""},model:{value:e.activeDistro,callback:function(t){e.activeDistro=t},expression:"activeDistro"}},[e._l(e.distros_list,function(t){return a("v-tab",{key:t,attrs:{ripple:"",href:"#"+t}},[e._v(e._s(t))])}),e._l(e.distros_list,function(e){return a("v-tab-item",{key:e,attrs:{id:""+e}})})],2):e._e()],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.tableHeaders,items:e.image_list,"hide-actions":"",loading:e.tableLoading,pagination:e.tableSorting},on:{"update:pagination":function(t){e.tableSorting=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e.publicServers.includes(e.activeRemote)?a("span",[e._v(e._s(t.item.properties.description?t.item.properties.description:"-"))]):a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){a.stopPropagation(),e.editItem(t.item)}}},[e._v(e._s(t.item.properties.description?t.item.properties.description:"-"))])])]),a("td",[e._v(e._s(t.item.properties.version?t.item.properties.version:"-"))]),a("td",[e._v(e._s(t.item.properties.release?e.ucfirst(t.item.properties.release):"-"))]),a("td",[e._v(e._s(e.formatBytes(t.item.size)))]),a("td",[e._v(e._s(new Date(t.item.uploaded_at).toLocaleString()))]),a("td",[a("v-tooltip",{attrs:{left:""}},[e.show_delete?a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:""},on:{click:function(a){e.deleteItem(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1):e._e(),a("span",[e._v("Delete Image")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:""},on:{click:function(a){e.createContainer(t.item,!1)}},slot:"activator"},[a("v-icon",{attrs:{color:"green"}},[e._v("play_circle_outline")])],1),a("span",[e._v("Launch Container")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0",staticStyle:{float:"right"},attrs:{slot:"activator",icon:""},on:{click:function(a){e.copyItem(t.item,!1)}},slot:"activator"},[a("v-icon",{attrs:{color:"blue-grey lighten-1"}},[e._v("file_copy")])],1),a("span",[e._v("Copy Image")])],1)],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),a("template",{slot:"no-data"},[e.tableLoading?a("span",[e._v("Fetching data, please wait...")]):a("span",[e._v("Remote has no images. \n                  ")])])],2)],1):e._e(),"remotes"==e.state?a("v-flex",[a("remotes",{ref:"remotes",on:{snackbar:e.setSnackbar,reload:function(t){e.initialize()}}})],1):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px",scrollable:""},model:{value:e.dialog.copy,callback:function(t){e.$set(e.dialog,"copy",t)},expression:"dialog.copy"}},[e.copy.properties?a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"light-blue darken-3"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog.copy=!1}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Copy Image")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.copyItem(e.newItem,!0)}}},[e._v("Copy")])],1)],1),a("v-card-text",[a("v-alert",{attrs:{value:!0,outline:"",color:"info",icon:"info"}},[e._v("\n            Copying images between hosts may take a while, be patient.\n          ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-select",{attrs:{items:[e.copy.properties.description],label:"Image:",required:"",disabled:""},model:{value:e.copy.properties.description,callback:function(t){e.$set(e.copy.properties,"description",t)},expression:"copy.properties.description"}}),a("v-select",{attrs:{items:[e.activeRemote],label:"From Remote:",required:"",disabled:""},model:{value:e.activeRemote,callback:function(t){e.activeRemote=t},expression:"activeRemote"}}),a("v-select",{attrs:{items:e.private_remotes,"item-text":"name","item-value":"name",rules:e.remoteRule,label:"To Remote:",required:""},model:{value:e.copy.remote,callback:function(t){e.$set(e.copy,"remote",t)},expression:"copy.remote"}})],1)],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1):e._e()],1),a("v-dialog",{attrs:{"max-width":"600px",scrollable:""},model:{value:e.dialog.create,callback:function(t){e.$set(e.dialog,"create",t)},expression:"dialog.create"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"light-blue darken-3"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog.create=!1}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Launch Container")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:"",loading:e.launching,disabled:e.launching},nativeOn:{click:function(t){e.createContainer(e.newItem,!0)}}},[e._v("Launch")])],1)],1),a("v-card-text",[a("v-alert",{attrs:{type:"error",value:e.error.launch}},[e._v("\n            "+e._s(e.error.launch)+"\n          ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.launching?a("div",[a("v-progress-linear",{attrs:{indeterminate:e.query,query:!0,active:e.show,height:"20"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),a("span",[e._v(e._s(e.real_value)+" "+e._s(e.progress_text?e.progress_text:"local"!==this.newItem.remote?"Initializing image download.":""))])],1):a("div",[a("v-text-field",{attrs:{label:"Name:",rules:e.nameRule,hint:"Enter name for new container.",required:"",disabled:e.launching},on:{input:function(t){e.safe_name()}},model:{value:e.newItem.name,callback:function(t){e.$set(e.newItem,"name",t)},expression:"newItem.name"}}),a("v-select",{attrs:{items:[e.newItem.image],label:"Image:",required:"",disabled:""},model:{value:e.newItem.image,callback:function(t){e.$set(e.newItem,"image",t)},expression:"newItem.image"}}),a("v-select",{attrs:{items:e.profiles,rules:e.profilesRule,label:"Profiles:",multiple:"",chips:"",required:"",disabled:e.launching},model:{value:e.newItem.profile,callback:function(t){e.$set(e.newItem,"profile",t)},expression:"newItem.profile"}}),a("v-select",{attrs:{items:e.pools,label:"Storage Pool:","persistent-hint":"",hint:"Storage pool the root disk device belongs to.",disabled:e.launching},model:{value:e.newItem.pool,callback:function(t){e.$set(e.newItem,"pool",t)},expression:"newItem.pool"}}),a("v-switch",{attrs:{label:(e.newItem.ephemeral,"Ephemeral"),color:"success",disabled:e.launching},model:{value:e.newItem.ephemeral,callback:function(t){e.$set(e.newItem,"ephemeral",t)},expression:"newItem.ephemeral"}})],1)])],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1),a("v-dialog",{attrs:{"max-width":"600px",scrollable:""},model:{value:e.dialog.edit,callback:function(t){e.$set(e.dialog,"edit",t)},expression:"dialog.edit"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"light-blue darken-3"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog.edit=!1}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v(e._s(e.publicServers.includes(e.activeRemote)?"View":"Edit")+" Image")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")])],1)],1),a("v-card-text",{staticStyle:{padding:"0px"}},[a("v-card",{attrs:{flat:""}},[e.editingItem.properties?a("v-card-text",[a("v-alert",{attrs:{type:"error",value:e.error.editing}},[e._v("\n                "+e._s(e.error.editing)+"\n              ")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Description:",counter:60,rules:e.descriptionRule,hint:"Enter description for image.",required:""},model:{value:e.editingItem.properties.description,callback:function(t){e.$set(e.editingItem.properties,"description",t)},expression:"editingItem.properties.description"}}),a("v-text-field",{attrs:{label:"Version:",hint:"Enter version for image."},model:{value:e.editingItem.properties.version,callback:function(t){e.$set(e.editingItem.properties,"version",t)},expression:"editingItem.properties.version"}}),a("v-text-field",{attrs:{label:"Release:",hint:"Enter release for image."},model:{value:e.editingItem.properties.release,callback:function(t){e.$set(e.editingItem.properties,"release",t)},expression:"editingItem.properties.release"}}),a("v-switch",{attrs:{label:"Auto Update:",color:"success"},model:{value:e.editingItem.auto_update,callback:function(t){e.$set(e.editingItem,"auto_update",t)},expression:"editingItem.auto_update"}}),a("v-switch",{attrs:{label:"Public:",color:"success"},model:{value:e.editingItem.public,callback:function(t){e.$set(e.editingItem,"public",t)},expression:"editingItem.public"}})],1)],1):e._e()],1)],1),a("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},ttyz:function(e,t,a){"use strict";var r=a("9C8M"),i=a("LIJb");e.exports=a("qo66")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},"zL/w":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("RpbZ"),i=a("td64"),s=!1;var n=function(e){s||a("tDWB")},o=a("VU/8")(r.a,i.a,!1,n,null,null);o.options.__file="pages/lxd/images.vue",t.default=o.exports}});